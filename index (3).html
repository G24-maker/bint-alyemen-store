<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØªØ¬Ø± Ø¨Ù†Øª Ø§Ù„ÙŠÙ…Ù† | Ù„Ù„Ø£Ø²ÙŠØ§Ø¡ ÙˆØ§Ù„Ø¬Ù…Ø§Ù„</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Tajawal', sans-serif; }
        body { background-color: #fdf2f8; }
        .glass-effect {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .gradient-text {
            background: linear-gradient(135deg, #be185d 0%, #9d174d 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .product-card {
            transition: all 0.3s ease;
        }
        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(190, 24, 93, 0.15);
        }
        .btn-primary {
            background: linear-gradient(135deg, #be185d 0%, #9d174d 100%);
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(190, 24, 93, 0.3);
        }
        .whatsapp-float {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .cart-drawer {
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }
        .cart-drawer.open {
            transform: translateX(0);
        }
        .upload-area {
            border: 3px dashed #e5e7eb;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .upload-area:hover, .upload-area.dragover {
            border-color: #be185d;
            background-color: #fdf2f8;
        }
        .upload-area.has-image {
            border-style: solid;
            border-color: #10b981;
            background-color: #ecfdf5;
        }
        .image-preview {
            max-height: 200px;
            object-fit: contain;
        }
        .new-badge {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            animation: badgePulse 2s infinite;
        }
        @keyframes badgePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        .price-input::-webkit-inner-spin-button,
        .price-input::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        .price-input {
            -moz-appearance: textfield;
        }

        /* ===== ØªÙ†Ø³ÙŠÙ‚Ø§Øª ØµÙˆØ± Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø© ===== */
        .hd-image-container {
            position: relative;
            overflow: hidden;
            cursor: zoom-in;
        }
        .hd-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        .hd-image-container:hover .hd-image {
            transform: scale(1.15);
        }
        .zoom-icon {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background: rgba(0,0,0,0.6);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .hd-image-container:hover .zoom-icon {
            opacity: 1;
        }

        /* ===== Lightbox ===== */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 9999;
            justify-content: center;
            align-items: center;
        }
        .lightbox.active {
            display: flex;
        }
        .lightbox-img {
            max-width: 95%;
            max-height: 95%;
            object-fit: contain;
        }
        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 40px;
            color: white;
            font-size: 40px;
            cursor: pointer;
            z-index: 10000;
        }
        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-size: 30px;
            cursor: pointer;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            transition: background 0.3s;
        }
        .lightbox-nav:hover {
            background: rgba(255,255,255,0.3);
        }
        .lightbox-prev { left: 20px; }
        .lightbox-next { right: 20px; }

        /* ===== Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± ===== */
        .gallery-main {
            position: relative;
            width: 100%;
            height: 400px;
            border-radius: 16px;
            overflow: hidden;
            cursor: pointer;
        }
        .gallery-main img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }
        .gallery-main:hover img {
            transform: scale(1.05);
        }
        .gallery-thumbs {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            overflow-x: auto;
            padding: 5px;
        }
        .gallery-thumb {
            min-width: 80px;
            height: 80px;
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s;
        }
        .gallery-thumb img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .gallery-thumb.active {
            border-color: #be185d;
            box-shadow: 0 0 0 3px rgba(190, 24, 93, 0.2);
        }
        .gallery-thumb:hover:not(.active) {
            border-color: #e5e7eb;
        }

        /* ===== ØµÙØ­Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ ===== */
        .product-detail-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            overflow-y: auto;
        }
        .product-detail-modal.active {
            display: block;
        }
        .product-detail-content {
            background: white;
            max-width: 1200px;
            margin: 50px auto;
            border-radius: 20px;
            overflow: hidden;
            position: relative;
        }

        /* ===== Ø±ÙØ¹ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„ØµÙˆØ± ===== */
        .multi-upload-preview {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }
        .preview-item {
            position: relative;
            aspect-ratio: 1;
            border-radius: 10px;
            overflow: hidden;
            border: 2px solid #e5e7eb;
        }
        .preview-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .preview-item .remove-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background: red;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 12px;
        }
        .preview-item.main-image {
            border-color: #be185d;
            box-shadow: 0 0 0 3px rgba(190, 24, 93, 0.2);
        }
        .preview-item.main-image::after {
            content: 'Ø±Ø¦ÙŠØ³ÙŠØ©';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(190, 24, 93, 0.8);
            color: white;
            text-align: center;
            font-size: 10px;
            padding: 2px;
        }

        /* ===== Debug Info ===== */
        .debug-info {
            position: fixed;
            bottom: 100px;
            right: 20px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px;
            border-radius: 8px;
            font-size: 12px;
            z-index: 9998;
            display: none;
        }

        /* ===== Admin Edit Modal ===== */
        .edit-product-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1001;
            justify-content: center;
            align-items: center;
            overflow-y: auto;
        }
        .edit-product-modal.active {
            display: flex;
        }
        .edit-product-content {
            background: white;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            border-radius: 20px;
            padding: 30px;
            position: relative;
        }
    </style>
</head>
<body class="text-gray-800">
    <!-- Debug Info -->
    <div id="debug-info" class="debug-info"></div>

    <!-- Lightbox -->
    <div id="lightbox" class="lightbox" onclick="closeLightbox()">
        <span class="lightbox-close">Ã—</span>
        <img id="lightbox-img" class="lightbox-img" src="" alt="ØµÙˆØ±Ø© ÙƒØ¨ÙŠØ±Ø©">
        <button class="lightbox-nav lightbox-prev" onclick="event.stopPropagation(); changeLightboxImage(-1)">
            <i class="fa-solid fa-chevron-right"></i>
        </button>
        <button class="lightbox-nav lightbox-next" onclick="event.stopPropagation(); changeLightboxImage(1)">
            <i class="fa-solid fa-chevron-left"></i>
        </button>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ -->
    <div id="product-detail-modal" class="product-detail-modal" onclick="closeProductDetail(event)">
        <div class="product-detail-content p-6 md:p-10" onclick="event.stopPropagation()">
            <button onclick="closeProductDetail()" class="absolute top-4 right-4 w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition z-10">
                <i class="fa-solid fa-times text-xl"></i>
            </button>
            <div class="grid md:grid-cols-2 gap-8">
                <!-- Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± -->
                <div>
                    <div class="gallery-main" onclick="openGalleryLightbox()">
                        <img id="detail-main-image" src="" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©">
                        <div class="zoom-icon">
                            <i class="fa-solid fa-expand"></i>
                        </div>
                    </div>
                    <div id="detail-gallery-thumbs" class="gallery-thumbs"></div>
                </div>
                <!-- ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ -->
                <div class="flex flex-col justify-center">
                    <span id="detail-category" class="text-rose-600 font-medium mb-2"></span>
                    <h2 id="detail-name" class="text-3xl font-bold mb-4"></h2>
                    <p id="detail-price" class="text-4xl font-bold text-rose-600 mb-6"></p>
                    <p id="detail-description" class="text-gray-600 mb-8 leading-relaxed"></p>
                    <button id="detail-add-to-cart" class="btn-primary text-white py-4 rounded-xl font-bold text-lg">
                        <i class="fa-solid fa-cart-plus ml-2"></i> Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ (Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©) -->
    <div id="edit-product-modal" class="edit-product-modal" onclick="closeEditProductModal(event)">
        <div class="edit-product-content" onclick="event.stopPropagation()">
            <button onclick="closeEditProductModal()" class="absolute top-4 left-4 w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition">
                <i class="fa-solid fa-times text-xl"></i>
            </button>
            <h3 class="text-2xl font-bold mb-6 text-gray-800">ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬</h3>
            <form id="edit-product-form" class="space-y-4">
                <input type="hidden" id="edit-product-id">
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-gray-700 mb-2">Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ *</label>
                        <input type="text" id="edit-product-name" required class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-rose-600 focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-2">Ø§Ù„Ø³Ø¹Ø± (Ø±.ÙŠ) *</label>
                        <div class="relative">
                            <input type="number" id="edit-product-price" required min="0" step="1" class="price-input w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-rose-600 focus:outline-none pl-12">
                            <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400">Ø±.ÙŠ</span>
                        </div>
                    </div>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Ø§Ù„Ù‚Ø³Ù… *</label>
                    <select id="edit-product-category" required class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-rose-600 focus:outline-none">
                        <option value="Ø£Ø²ÙŠØ§Ø¡ ÙŠÙ…Ù†ÙŠØ©">Ø£Ø²ÙŠØ§Ø¡ ÙŠÙ…Ù†ÙŠØ©</option>
                        <option value="Ø¹Ø¨Ø§ÙŠØ§Øª">Ø¹Ø¨Ø§ÙŠØ§Øª</option>
                        <option value="ÙØ³Ø§ØªÙŠÙ†">ÙØ³Ø§ØªÙŠÙ†</option>
                        <option value="Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª">Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª</option>
                    </select>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Ø§Ù„ÙˆØµÙ</label>
                    <textarea id="edit-product-desc" rows="3" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-rose-600 focus:outline-none"></textarea>
                </div>
                
                <!-- ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØµÙˆØ± -->
                <div>
                    <label class="block text-gray-700 mb-2">ØµÙˆØ± Ø§Ù„Ù…Ù†ØªØ¬</label>
                    <div id="edit-upload-section" class="upload-area rounded-xl p-6 text-center" onclick="document.getElementById('edit-file-input').click()">
                        <input type="file" id="edit-file-input" class="hidden" accept="image/*" multiple onchange="handleEditMultipleImages(this)">
                        <i class="fa-solid fa-images text-4xl text-gray-400 mb-3"></i>
                        <p class="text-gray-600 font-medium">Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ø¥Ø¶Ø§ÙØ© ØµÙˆØ± Ø¬Ø¯ÙŠØ¯Ø©</p>
                        <p class="text-gray-400 text-sm mt-1">ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø¯Ø© ØµÙˆØ± Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©</p>
                    </div>
                    <div id="edit-multi-image-preview" class="multi-upload-preview"></div>
                    <p class="text-sm text-gray-500 mt-2">
                        <i class="fa-solid fa-info-circle ml-1"></i>
                        Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ ØªÙƒÙˆÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©. Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø© Ù„ØªØ¹ÙŠÙŠÙ†Ù‡Ø§ ÙƒØ±Ø¦ÙŠØ³ÙŠØ©.
                    </p>
                </div>

                <div class="flex gap-4 pt-4">
                    <button type="submit" class="flex-1 btn-primary text-white py-4 rounded-lg font-bold text-lg">
                        <i class="fa-solid fa-save ml-2"></i> Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª
                    </button>
                    <button type="button" onclick="closeEditProductModal()" class="px-6 py-4 rounded-lg font-bold text-gray-600 border border-gray-300 hover:bg-gray-100">
                        Ø¥Ù„ØºØ§Ø¡
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="glass-effect fixed w-full z-50 top-0 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center cursor-pointer" onclick="showHome()">
                    <i class="fa-solid fa-crown text-rose-600 text-2xl ml-2"></i>
                    <span class="text-2xl font-bold gradient-text">Ø¨Ù†Øª Ø§Ù„ÙŠÙ…Ù†</span>
                </div>
                <div class="hidden md:flex space-x-8 space-x-reverse">
                    <button onclick="showHome()" class="nav-link text-gray-700 hover:text-rose-600 font-medium transition">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                    <button onclick="showShop('all')" class="nav-link text-gray-700 hover:text-rose-600 font-medium transition">Ø§Ù„Ù…ØªØ¬Ø±</button>
                    <button onclick="showCategories()" class="nav-link text-gray-700 hover:text-rose-600 font-medium transition">Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</button>
                </div>
                <div class="flex items-center space-x-4 space-x-reverse">
                    <button onclick="toggleCart()" class="relative p-2 text-gray-700 hover:text-rose-600 transition">
                        <i class="fa-solid fa-cart-shopping text-xl"></i>
                        <span id="cart-count" class="absolute -top-1 -right-1 bg-rose-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center hidden">0</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div id="main-content" class="pt-16 min-h-screen">
        <!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
        <div id="home-page" class="fade-in">
            <!-- Hero Section -->
            <div class="relative bg-gradient-to-br from-rose-50 to-pink-100 py-20 px-4">
                <div class="max-w-7xl mx-auto grid md:grid-cols-2 gap-12 items-center">
                    <div class="text-center md:text-right">
                        <h1 class="text-4xl md:text-6xl font-bold mb-6 leading-tight">
                            Ø£Ø²ÙŠØ§Ø¡ ÙŠÙ…Ù†ÙŠØ© Ø¨Ø£Ù†Ø§Ù‚Ø©
                            <span class="gradient-text">Ø¹ØµØ±ÙŠØ©</span>
                        </h1>
                        <p class="text-gray-600 text-lg mb-8 leading-relaxed">
                            Ø§ÙƒØªØ´ÙÙŠ ØªØ´ÙƒÙŠÙ„ØªÙ†Ø§ Ø§Ù„ÙØ±ÙŠØ¯Ø© Ù…Ù† Ø§Ù„Ø£Ø²ÙŠØ§Ø¡ Ø§Ù„ÙŠÙ…Ù†ÙŠØ© Ø§Ù„Ø£ØµÙŠÙ„Ø© ÙˆØ§Ù„Ø¹Ø¨Ø§ÙŠØ§Øª Ø§Ù„ÙØ§Ø®Ø±Ø© Ø¨Ø£Ø¹Ù„Ù‰ Ø¬ÙˆØ¯Ø©
                        </p>
                        <div class="flex flex-col sm:flex-row gap-4 justify-center md:justify-start">
                            <button onclick="showShop('all')" class="btn-primary text-white px-8 py-4 rounded-full font-bold text-lg">
                                ØªØ³ÙˆÙ‚ÙŠ Ø§Ù„Ø¢Ù† <i class="fa-solid fa-arrow-left mr-2"></i>
                            </button>
                        </div>
                    </div>
                    <div class="relative">
                        <div class="absolute inset-0 bg-rose-200 rounded-full filter blur-3xl opacity-30"></div>
                        <img src="https://images.unsplash.com/photo-1595777457583-95e059d581b8?w=1200&h=1500&fit=crop&q=100" alt="Fashion" class="relative rounded-3xl shadow-2xl w-full h-[500px] object-cover cursor-pointer" onclick="openLightbox(this.src)">
                    </div>
                </div>
            </div>

            <!-- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© -->
            <div id="new-products-section" class="hidden py-16 px-4 bg-gradient-to-br from-green-50 to-emerald-100">
                <div class="max-w-7xl mx-auto">
                    <div class="flex items-center gap-3 mb-8">
                        <span class="new-badge text-white px-4 py-2 rounded-full font-bold text-sm">Ø¬Ø¯ÙŠØ¯</span>
                        <h2 class="text-3xl font-bold gradient-text">ÙˆØµÙ„ Ø­Ø¯ÙŠØ«Ø§Ù‹</h2>
                    </div>
                    <div id="new-products" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"></div>
                </div>
            </div>

            <!-- Featured Products -->
            <div class="py-16 px-4 bg-gray-50">
                <div class="max-w-7xl mx-auto">
                    <h2 class="text-3xl font-bold text-center mb-12 gradient-text">Ù…Ù†ØªØ¬Ø§Øª Ù…Ù…ÙŠØ²Ø©</h2>
                    <div id="featured-products" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"></div>
                </div>
            </div>

            <!-- Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
            <div class="py-16 px-4 bg-white">
                <div class="max-w-7xl mx-auto">
                    <h2 class="text-3xl font-bold text-center mb-12 gradient-text">Ø¬Ù…ÙŠØ¹ Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§</h2>
                    <div id="all-home-products" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"></div>
                    <div class="text-center mt-8">
                        <button onclick="showShop('all')" class="btn-primary text-white px-8 py-4 rounded-full font-bold text-lg">
                            Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª <i class="fa-solid fa-arrow-left mr-2"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ØµÙØ­Ø© Ø§Ù„Ù…ØªØ¬Ø± -->
        <div id="shop-page" class="hidden fade-in py-8 px-4">
            <div class="max-w-7xl mx-auto">
                <div class="flex flex-col md:flex-row justify-between items-center mb-8 gap-4">
                    <h2 class="text-3xl font-bold gradient-text">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h2>
                    <div class="flex gap-2 flex-wrap justify-center">
                        <button onclick="filterProducts('all')" class="category-btn px-4 py-2 rounded-full bg-rose-600 text-white font-medium" data-category="all">Ø§Ù„ÙƒÙ„</button>
                        <button onclick="filterProducts('Ø£Ø²ÙŠØ§Ø¡ ÙŠÙ…Ù†ÙŠØ©')" class="category-btn px-4 py-2 rounded-full bg-white text-gray-700 border border-gray-300 hover:border-rose-600" data-category="Ø£Ø²ÙŠØ§Ø¡ ÙŠÙ…Ù†ÙŠØ©">Ø£Ø²ÙŠØ§Ø¡ ÙŠÙ…Ù†ÙŠØ©</button>
                        <button onclick="filterProducts('Ø¹Ø¨Ø§ÙŠØ§Øª')" class="category-btn px-4 py-2 rounded-full bg-white text-gray-700 border border-gray-300 hover:border-rose-600" data-category="Ø¹Ø¨Ø§ÙŠØ§Øª">Ø¹Ø¨Ø§ÙŠØ§Øª</button>
                        <button onclick="filterProducts('ÙØ³Ø§ØªÙŠÙ†')" class="category-btn px-4 py-2 rounded-full bg-white text-gray-700 border border-gray-300 hover:border-rose-600" data-category="ÙØ³Ø§ØªÙŠÙ†">ÙØ³Ø§ØªÙŠÙ†</button>
                        <button onclick="filterProducts('Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª')" class="category-btn px-4 py-2 rounded-full bg-white text-gray-700 border border-gray-300 hover:border-rose-600" data-category="Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª">Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª</button>
                    </div>
                </div>
                <div id="shop-products" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"></div>
            </div>
        </div>

        <!-- ØµÙØ­Ø© Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ -->
        <div id="checkout-page" class="fade-in py-8 px-4 hidden">
            <div class="max-w-3xl mx-auto">
                <h2 class="text-3xl font-bold text-center mb-8 gradient-text">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</h2>
                <div class="bg-white rounded-2xl shadow-lg p-6 mb-6">
                    <h3 class="text-xl font-bold mb-4 text-gray-800">Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨</h3>
                    <div id="checkout-items" class="space-y-4 mb-6"></div>
                    <div class="border-t pt-4">
                        <div class="flex justify-between items-center text-xl font-bold">
                            <span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span>
                            <span id="checkout-total" class="text-rose-600">Ù  Ø±.ÙŠ</span>
                        </div>
                    </div>
                </div>
                <form id="checkout-form" class="bg-white rounded-2xl shadow-lg p-6">
                    <h3 class="text-xl font-bold mb-4 text-gray-800">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„</h3>
                    <div class="grid md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-gray-700 mb-2">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ *</label>
                            <input type="text" id="customer-name" required class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-rose-600 focus:outline-none">
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ *</label>
                            <input type="tel" id="customer-phone" required class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-rose-600 focus:outline-none">
                        </div>
                    </div>
                    <div class="mb-4">
                        <label class="block text-gray-700 mb-2">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© *</label>
                        <select id="customer-city" required class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-rose-600 focus:outline-none">
                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</option>
                            <option value="ØµÙ†Ø¹Ø§Ø¡">ØµÙ†Ø¹Ø§Ø¡</option>
                            <option value="Ø¹Ø¯Ù†">Ø¹Ø¯Ù†</option>
                            <option value="ØªØ¹Ø²">ØªØ¹Ø²</option>
                            <option value="Ø§Ù„Ø­Ø¯ÙŠØ¯Ø©">Ø§Ù„Ø­Ø¯ÙŠØ¯Ø©</option>
                            <option value="Ø¥Ø¨">Ø¥Ø¨</option>
                            <option value="Ø§Ù„Ù…ÙƒÙ„Ø§">Ø§Ù„Ù…ÙƒÙ„Ø§</option>
                        </select>
                    </div>
                    <div class="mb-6">
                        <label class="block text-gray-700 mb-2">Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                        <textarea id="customer-notes" rows="3" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-rose-600 focus:outline-none"></textarea>
                    </div>
                    <button type="submit" class="w-full btn-primary text-white py-4 rounded-lg font-bold text-lg">
                        <i class="fa-brands fa-whatsapp ml-2"></i> Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨
                    </button>
                </form>
            </div>
        </div>

        <!-- ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© -->
        <div id="admin-login-page" class="hidden fade-in min-h-screen flex items-center justify-center bg-gradient-to-br from-rose-50 to-pink-100">
            <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md mx-4">
                <div class="text-center mb-8">
                    <i class="fa-solid fa-lock text-rose-600 text-5xl mb-4"></i>
                    <h2 class="text-2xl font-bold text-gray-800">Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h2>
                    <p class="text-gray-500">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©</p>
                </div>
                <form id="admin-login-form">
                    <div class="mb-6">
                        <label class="block text-gray-700 mb-2">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                        <input type="password" id="admin-password" required class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-rose-600 focus:outline-none text-center text-xl tracking-widest">
                    </div>
                    <button type="submit" class="w-full btn-primary text-white py-3 rounded-lg font-bold">Ø¯Ø®ÙˆÙ„</button>
                    <button type="button" onclick="showHome()" class="w-full mt-3 py-3 rounded-lg font-bold text-gray-600 hover:text-gray-800">Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                </form>
            </div>
        </div>

        <!-- ØµÙØ­Ø© Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© -->
        <div id="admin-dashboard" class="hidden fade-in">
            <div class="bg-rose-600 text-white py-6 px-4">
                <div class="max-w-7xl mx-auto flex justify-between items-center">
                    <div>
                        <h2 class="text-2xl font-bold">Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…ØªØ¬Ø±</h2>
                        <p class="text-rose-200">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</p>
                    </div>
                    <button onclick="adminLogout()" class="bg-white text-rose-600 px-4 py-2 rounded-lg font-bold hover:bg-rose-50 transition">
                        <i class="fa-solid fa-sign-out-alt ml-2"></i> Ø®Ø±ÙˆØ¬
                    </button>
                </div>
            </div>
            <div class="max-w-7xl mx-auto p-4 py-8">
                <div class="grid md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-white rounded-xl shadow-lg p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-gray-500">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</p>
                                <p id="admin-products-count" class="text-3xl font-bold text-gray-800">0</p>
                            </div>
                            <i class="fa-solid fa-box text-rose-600 text-3xl"></i>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-lg p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-gray-500">Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</p>
                                <p id="admin-orders-count" class="text-3xl font-bold text-gray-800">0</p>
                            </div>
                            <i class="fa-solid fa-shopping-bag text-rose-600 text-3xl"></i>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-lg p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-gray-500">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</p>
                                <p id="admin-sales-total" class="text-3xl font-bold text-gray-800">0 Ø±.ÙŠ</p>
                            </div>
                            <i class="fa-solid fa-money-bill-wave text-rose-600 text-3xl"></i>
                        </div>
                    </div>
                </div>

                <!-- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
                <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                    <h3 class="text-xl font-bold mb-4 text-gray-800">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±</h3>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-gray-700 mb-2">Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨</label>
                            <input type="text" id="settings-whatsapp" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-rose-600 focus:outline-none">
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø¬Ø¯ÙŠØ¯Ø©</label>
                            <input type="password" id="settings-password" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-rose-600 focus:outline-none">
                        </div>
                    </div>
                    <button onclick="saveSettings()" class="mt-4 bg-rose-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-rose-700 transition">
                        <i class="fa-solid fa-save ml-2"></i> Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
                    </button>
                </div>

                <!-- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold text-gray-800">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h3>
                        <button onclick="showAddProductForm()" class="bg-green-500 text-white px-4 py-2 rounded-lg font-bold hover:bg-green-600 transition">
                            <i class="fa-solid fa-plus ml-2"></i> Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬
                        </button>
                    </div>
                    <div id="admin-products-list" class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-4 py-3 text-right">Ø§Ù„Ù…Ù†ØªØ¬</th>
                                    <th class="px-4 py-3 text-right">Ø§Ù„Ù‚Ø³Ù…</th>
                                    <th class="px-4 py-3 text-right">Ø§Ù„Ø³Ø¹Ø±</th>
                                    <th class="px-4 py-3 text-right">Ø§Ù„ØµÙˆØ±</th>
                                    <th class="px-4 py-3 text-right">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ø¶Ø§ÙØ©</th>
                                    <th class="px-4 py-3 text-right">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                                </tr>
                            </thead>
                            <tbody id="admin-products-table"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯ Ù…Ø¹ Ø¯Ø¹Ù… Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„ØµÙˆØ± -->
    <div id="add-product-modal" class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[95vh] overflow-y-auto">
            <div class="p-6 border-b flex justify-between items-center sticky top-0 bg-white">
                <h3 class="text-xl font-bold">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</h3>
                <button onclick="closeAddProductModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fa-solid fa-times text-xl"></i>
                </button>
            </div>
            <form id="add-product-form" class="p-6 space-y-4">
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-gray-700 mb-2">Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ *</label>
                        <input type="text" id="new-product-name" required class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-rose-600 focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-2">Ø§Ù„Ø³Ø¹Ø± (Ø±.ÙŠ) *</label>
                        <div class="relative">
                            <input type="number" id="new-product-price" required min="0" step="1" class="price-input w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-rose-600 focus:outline-none pl-12" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø³Ø¹Ø± Ø¨Ø§Ù„Ø£Ø±Ù‚Ø§Ù…">
                            <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400">Ø±.ÙŠ</span>
                        </div>
                    </div>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Ø§Ù„Ù‚Ø³Ù… *</label>
                    <select id="new-product-category" required class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-rose-600 focus:outline-none">
                        <option value="Ø£Ø²ÙŠØ§Ø¡ ÙŠÙ…Ù†ÙŠØ©">Ø£Ø²ÙŠØ§Ø¡ ÙŠÙ…Ù†ÙŠØ©</option>
                        <option value="Ø¹Ø¨Ø§ÙŠØ§Øª">Ø¹Ø¨Ø§ÙŠØ§Øª</option>
                        <option value="ÙØ³Ø§ØªÙŠÙ†">ÙØ³Ø§ØªÙŠÙ†</option>
                        <option value="Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª">Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª</option>
                    </select>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Ø§Ù„ÙˆØµÙ</label>
                    <textarea id="new-product-desc" rows="3" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-rose-600 focus:outline-none"></textarea>
                </div>

                <!-- Ø±ÙØ¹ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„ØµÙˆØ± -->
                <div>
                    <label class="block text-gray-700 mb-2">ØµÙˆØ± Ø§Ù„Ù…Ù†ØªØ¬ * (ÙŠÙ…ÙƒÙ† Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø¯Ø© ØµÙˆØ±)</label>

                    <div id="upload-section-1" class="upload-area rounded-xl p-6 text-center" onclick="document.getElementById('file-input').click()">
                        <input type="file" id="file-input" class="hidden" accept="image/*" multiple onchange="handleMultipleImages(this)">
                        <i class="fa-solid fa-images text-4xl text-gray-400 mb-3"></i>
                        <p class="text-gray-600 font-medium">Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙˆØ±</p>
                        <p class="text-gray-400 text-sm mt-1">ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø¯Ø© ØµÙˆØ± Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©</p>
                        <p class="text-gray-400 text-xs mt-2">Ø§Ù„ØµÙŠØº: JPG, PNG | Ø§Ù„Ø­Ø¯: 5MB Ù„Ù„ØµÙˆØ±Ø©</p>
                    </div>

                    <!-- Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø© -->
                    <div id="multi-image-preview" class="multi-upload-preview"></div>

                    <p class="text-sm text-gray-500 mt-2">
                        <i class="fa-solid fa-info-circle ml-1"></i>
                        Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ ØªÙƒÙˆÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©. Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø© Ù„ØªØ¹ÙŠÙŠÙ†Ù‡Ø§ ÙƒØ±Ø¦ÙŠØ³ÙŠØ©.
                    </p>
                </div>

                <button type="submit" class="w-full btn-primary text-white py-4 rounded-lg font-bold text-lg mt-6">
                    <i class="fa-solid fa-plus ml-2"></i> Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬
                </button>
            </form>
        </div>
    </div>

    <!-- Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª -->
    <div id="cart-overlay" class="fixed inset-0 bg-black/50 z-50 hidden" onclick="toggleCart()"></div>
    <div id="cart-drawer" class="cart-drawer fixed top-0 right-0 h-full w-full max-w-md bg-white z-50 shadow-2xl flex flex-col">
        <div class="p-6 border-b flex justify-between items-center">
            <h3 class="text-xl font-bold">Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3>
            <button onclick="toggleCart()" class="text-gray-500 hover:text-gray-700">
                <i class="fa-solid fa-times text-xl"></i>
            </button>
        </div>
        <div id="cart-items" class="flex-1 overflow-y-auto p-6 space-y-4">
            <div class="text-center text-gray-500 py-12">
                <i class="fa-solid fa-cart-shopping text-6xl mb-4 text-gray-300"></i>
                <p>Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</p>
            </div>
        </div>
        <div class="border-t p-6 space-y-4">
            <div class="flex justify-between items-center text-xl font-bold">
                <span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span>
                <span id="cart-total">Ù  Ø±.ÙŠ</span>
            </div>
            <button onclick="showCheckout()" id="checkout-btn" class="w-full py-3 rounded-lg font-bold bg-gray-300 text-gray-500 cursor-not-allowed" disabled>Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</button>
            <button onclick="clearCart()" id="clear-cart-btn" class="w-full border border-red-500 text-red-500 py-3 rounded-lg font-bold hover:bg-red-50 transition hidden">Ø¥ÙØ±Ø§Øº Ø§Ù„Ø³Ù„Ø©</button>
        </div>
    </div>

    <!-- ÙˆØ§ØªØ³Ø§Ø¨ Ø¹Ø§Ø¦Ù… -->
    <a href="https://wa.me/967783144581" target="_blank" rel="noreferrer" class="whatsapp-float fixed bottom-6 left-6 z-40 bg-green-500 text-white w-14 h-14 rounded-full shadow-lg flex items-center justify-center hover:bg-green-600 transition">
        <i class="fa-brands fa-whatsapp text-3xl"></i>
    </a>

    <!-- Footer -->
    <footer class="bg-white border-t py-12 mt-12">
        <div class="max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-right">
            <div>
                <h3 class="text-xl font-bold mb-4 text-rose-600">Ø¨Ù†Øª Ø§Ù„ÙŠÙ…Ù†</h3>
                <p class="text-gray-500 text-sm">Ù…ØªØ¬Ø±Ùƒ Ø§Ù„Ø£ÙˆÙ„ Ù„Ù„Ø£Ø²ÙŠØ§Ø¡ Ø§Ù„ÙŠÙ…Ù†ÙŠØ© Ø§Ù„Ø±Ø§Ù‚ÙŠØ© ÙˆØ§Ù„Ø¹Ø¨Ø§ÙŠØ§Øª Ø§Ù„Ø¹ØµØ±ÙŠØ©.</p>
            </div>
            <div>
                <h4 class="font-bold mb-4 text-sm uppercase tracking-widest text-gray-400">Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</h4>
                <ul class="space-y-2 text-sm text-gray-600">
                    <li><button onclick="showHome()" class="hover:text-rose-600">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button></li>
                    <li><button onclick="showShop('all')" class="hover:text-rose-600">Ø§Ù„Ù…ØªØ¬Ø±</button></li>
                </ul>
            </div>
            <div>
                <h4 class="font-bold mb-4 text-sm uppercase tracking-widest text-gray-400">ØªÙˆØ§ØµÙ„ÙˆØ§ Ù…Ø¹Ù†Ø§</h4>
                <div class="flex justify-center md:justify-end gap-4 text-rose-600">
                    <a href="#" class="hover:scale-110 transition"><i class="fa-brands fa-instagram text-xl"></i></a>
                    <a href="#" class="hover:scale-110 transition"><i class="fa-brands fa-tiktok text-xl"></i></a>
                    <a href="#" class="hover:scale-110 transition"><i class="fa-brands fa-snapchat text-xl"></i></a>
                </div>
            </div>
        </div>
        <div class="mt-8 text-center text-sm text-gray-400">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù…ØªØ¬Ø± Ø¨Ù†Øª Ø§Ù„ÙŠÙ…Ù† Â© 2024</div>
    </footer>

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-24 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-6 py-3 rounded-lg shadow-lg z-50 hidden">
        <span id="toast-message">ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ! Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹ âœ“</span>
    </div>

    <!-- ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ù Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
    <script src="products.js"></script>

    <script>
        // ==================== Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ====================
        const STORE_NAME = 'Ù…ØªØ¬Ø± Ø¨Ù†Øª Ø§Ù„ÙŠÙ…Ù†';
        let WHATSAPP_NUMBER = '967783144581';
        let ADMIN_PASSWORD = '1234';
        let CURRENCY = 'Ø±.ÙŠ';

        // âœ… Ø§Ù„Ù…ØªØºÙŠØ± Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª - ÙŠØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡ Ù…Ù† localStorage
        let products = [];

        let cart = [];
        let currentCategory = 'all';
        let currentLightboxImages = [];
        let currentLightboxIndex = 0;
        let tempProductImages = [];
        let editProductImages = [];
        let currentEditProductId = null;

        // ==================== Ø¯Ø§Ù„Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† ====================
        function loadProductsFromStorage() {
            console.log('ğŸ”„ Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª...');

            const savedProducts = localStorage.getItem('yaman_products');
            const savedCart = localStorage.getItem('yaman_cart');

            if (savedCart) {
                try {
                    cart = JSON.parse(savedCart);
                    console.log('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ù„Ø©:', cart.length, 'Ù…Ù†ØªØ¬');
                } catch (e) {
                    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ù„Ø©:', e);
                    cart = [];
                }
            }

            if (savedProducts) {
                try {
                    const parsed = JSON.parse(savedProducts);
                    if (Array.isArray(parsed) && parsed.length > 0) {
                        products = parsed;

                        // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
                        products.forEach(p => {
                            if (!p.images && p.image) {
                                p.images = [p.image];
                                delete p.image;
                            }
                            if (!p.images || !Array.isArray(p.images)) {
                                p.images = ['https://via.placeholder.com/600x800?text=No+Image'];
                            }
                            if (!p.createdAt) {
                                p.createdAt = new Date().toISOString();
                            }
                        });

                        console.log('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ†:', products.length, 'Ù…Ù†ØªØ¬');
                        return true;
                    }
                } catch (e) {
                    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:', e);
                }
            }

            // âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ù…Ø­ÙÙˆØ¸Ø© - Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù…Ù† Ù…Ù„Ù products.js
            console.log('âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ù…Ø­ÙÙˆØ¸Ø©ØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©...');
            products = typeof DEFAULT_PRODUCTS !== 'undefined' ? [...DEFAULT_PRODUCTS] : getDefaultProducts();
            saveProductsToStorage();
            return false;
        }

        // ==================== Ø¯Ø§Ù„Ø© Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ====================
        function saveProductsToStorage() {
            try {
                localStorage.setItem('yaman_products', JSON.stringify(products));
                console.log('ğŸ’¾ ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:', products.length, 'Ù…Ù†ØªØ¬');
                return true;
            } catch (e) {
                console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:', e);
                showToast('Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª!');
                return false;
            }
        }

        // ==================== Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (Ø§Ø­ØªÙŠØ§Ø·ÙŠ) ====================
        function getDefaultProducts() {
            return [
                {
                    id: '1',
                    name: 'Ø¯Ø±Ø¹ ØµÙ†Ø¹Ø§Ù†ÙŠ Ù…Ù„ÙƒÙŠ',
                    price: 15000,
                    description: 'Ø¯Ø±Ø¹ ØµÙ†Ø¹Ø§Ù†ÙŠ Ø£ØµÙŠÙ„ Ù…Ø·Ø±Ø² Ø¨Ø®ÙŠÙˆØ· Ø§Ù„Ø°Ù‡Ø¨ØŒ Ù‚Ù…Ø§Ø´ Ø­Ø±ÙŠØ± Ø·Ø¨ÙŠØ¹ÙŠ Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø¬ÙˆØ¯Ø©.',
                    images: ['https://images.unsplash.com/photo-1558171813-4c088753af8f?w=800&h=1000&fit=crop&q=80'],
                    category: 'Ø£Ø²ÙŠØ§Ø¡ ÙŠÙ…Ù†ÙŠØ©',
                    createdAt: new Date('2024-01-01').toISOString()
                },
                {
                    id: '2',
                    name: 'Ø¹Ø¨Ø§ÙŠØ© Ù…Ø®Ù…Ù„ÙŠØ© Ø³ÙˆØ¯Ø§Ø¡',
                    price: 25000,
                    description: 'Ø¹Ø¨Ø§ÙŠØ© Ù†Ø³Ø§Ø¦ÙŠØ© ÙØ§Ø®Ø±Ø© Ù…Ù† Ù‚Ù…Ø§Ø´ Ø§Ù„Ù…Ø®Ù…Ù„ØŒ ØªØµÙ…ÙŠÙ… Ø¹ØµØ±ÙŠ ÙˆØ£Ù†ÙŠÙ‚ Ù„Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª.',
                    images: ['https://images.unsplash.com/photo-1595777457583-95e059d581b8?w=800&h=1000&fit=crop&q=80'],
                    category: 'Ø¹Ø¨Ø§ÙŠØ§Øª',
                    createdAt: new Date('2024-01-01').toISOString()
                },
                {
                    id: '3',
                    name: 'ÙØ³ØªØ§Ù† Ø²ÙØ§Ù Ù…ÙˆØ¯Ø±Ù†',
                    price: 45000,
                    description: 'ÙØ³ØªØ§Ù† Ø³Ù‡Ø±Ø© Ø·ÙˆÙŠÙ„ Ø¨Ù„ÙˆÙ† Ù„Ø¤Ù„Ø¤ÙŠØŒ ÙŠÙ†Ø§Ø³Ø¨ Ø§Ù„Ø­ÙÙ„Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø©.',
                    images: ['https://images.unsplash.com/photo-1566174053879-31528523f8ae?w=800&h=1000&fit=crop&q=80'],
                    category: 'ÙØ³Ø§ØªÙŠÙ†',
                    createdAt: new Date('2024-01-01').toISOString()
                },
                {
                    id: '4',
                    name: 'Ø¹Ù‚Ø¯ ÙØ¶Ø© ÙŠÙ…Ù†ÙŠ Ù‚Ø¯ÙŠÙ…',
                    price: 8000,
                    description: 'Ø¥ÙƒØ³Ø³ÙˆØ§Ø± ÙØ¶ÙŠ Ù…Ø³ØªÙˆØ­Ù‰ Ù…Ù† Ø§Ù„ØªØ±Ø§Ø« Ø§Ù„ÙŠÙ…Ù†ÙŠ Ø§Ù„Ù‚Ø¯ÙŠÙ…ØŒ ØµÙ†Ø§Ø¹Ø© ÙŠØ¯ÙˆÙŠØ©.',
                    images: ['https://images.unsplash.com/photo-1535632066927-ab7c9ab60908?w=800&h=1000&fit=crop&q=80'],
                    category: 'Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª',
                    createdAt: new Date('2024-01-01').toISOString()
                }
            ];
        }

        // ==================== Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© ====================
        function formatPrice(price) {
            return price.toLocaleString('ar-YE') + ' ' + CURRENCY;
        }

        function generateId() {
            return Date.now().toString(36) + Math.random().toString(36).substr(2);
        }

        function showToast(message, duration = 3000) {
            const toast = document.getElementById('toast');
            document.getElementById('toast-message').textContent = message;
            toast.classList.remove('hidden');
            setTimeout(() => toast.classList.add('hidden'), duration);
        }

        function isNewProduct(createdAt) {
            const productDate = new Date(createdAt);
            const now = new Date();
            const diffTime = Math.abs(now - productDate);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            return diffDays <= 7;
        }

        // ==================== Lightbox ====================
        function openLightbox(src, images = null, index = 0) {
            if (images) {
                currentLightboxImages = images;
                currentLightboxIndex = index;
            } else {
                currentLightboxImages = [src];
                currentLightboxIndex = 0;
            }
            updateLightboxImage();
            document.getElementById('lightbox').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            document.getElementById('lightbox').classList.remove('active');
            document.body.style.overflow = '';
        }

        function updateLightboxImage() {
            const img = document.getElementById('lightbox-img');
            img.src = currentLightboxImages[currentLightboxIndex];
        }

        function changeLightboxImage(direction) {
            currentLightboxIndex += direction;
            if (currentLightboxIndex < 0) {
                currentLightboxIndex = currentLightboxImages.length - 1;
            } else if (currentLightboxIndex >= currentLightboxImages.length) {
                currentLightboxIndex = 0;
            }
            updateLightboxImage();
        }

        // ==================== Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± ÙÙŠ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ ====================
        let currentDetailImages = [];
        let currentDetailIndex = 0;

        function openProductDetail(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) {
                console.error('âŒ Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯:', productId);
                return;
            }

            currentDetailImages = product.images || [product.images[0]];
            currentDetailIndex = 0;

            document.getElementById('detail-name').textContent = product.name;
            document.getElementById('detail-category').textContent = product.category;
            document.getElementById('detail-price').textContent = formatPrice(product.price);
            document.getElementById('detail-description').textContent = product.description;
            document.getElementById('detail-add-to-cart').onclick = () => {
                addToCart(product.id);
                closeProductDetail();
            };

            updateDetailGallery();
            document.getElementById('product-detail-modal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeProductDetail() {
            document.getElementById('product-detail-modal').classList.remove('active');
            document.body.style.overflow = '';
        }

        function updateDetailGallery() {
            const mainImg = document.getElementById('detail-main-image');
            const thumbsContainer = document.getElementById('detail-gallery-thumbs');

            mainImg.src = currentDetailImages[currentDetailIndex];

            thumbsContainer.innerHTML = currentDetailImages.map((img, idx) => `
                <div class="gallery-thumb ${idx === currentDetailIndex ? 'active' : ''}" onclick="selectDetailImage(${idx})">
                    <img src="${img}" alt="ØµÙˆØ±Ø© ${idx + 1}">
                </div>
            `).join('');
        }

        function selectDetailImage(index) {
            currentDetailIndex = index;
            updateDetailGallery();
        }

        function openGalleryLightbox() {
            openLightbox(null, currentDetailImages, currentDetailIndex);
        }

        // ==================== Ø±ÙØ¹ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„ØµÙˆØ± (Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬) ====================
        function handleMultipleImages(input) {
            const files = Array.from(input.files);
            if (files.length === 0) return;

            if (tempProductImages.length + files.length > 8) {
                showToast('Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 8 ØµÙˆØ± Ù„Ù„Ù…Ù†ØªØ¬');
                return;
            }

            let processedCount = 0;

            files.forEach(file => {
                if (!file.type.startsWith('image/')) {
                    showToast('Ù…Ù„Ù ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…: ' + file.name);
                    processedCount++;
                    return;
                }

                if (file.size > 5 * 1024 * 1024) {
                    showToast('Ø­Ø¬Ù… ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹ (max 5MB): ' + file.name);
                    processedCount++;
                    return;
                }

                const reader = new FileReader();
                reader.onload = function(e) {
                    tempProductImages.push(e.target.result);
                    processedCount++;
                    if (processedCount === files.length) {
                        updateMultiImagePreview();
                    }
                };
                reader.onerror = function() {
                    showToast('Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù: ' + file.name);
                    processedCount++;
                };
                reader.readAsDataURL(file);
            });
        }

        function updateMultiImagePreview() {
            const container = document.getElementById('multi-image-preview');

            if (tempProductImages.length === 0) {
                container.innerHTML = '';
                return;
            }

            container.innerHTML = tempProductImages.map((img, idx) => `
                <div class="preview-item ${idx === 0 ? 'main-image' : ''}" onclick="setMainImage(${idx})">
                    <img src="${img}" alt="ØµÙˆØ±Ø© ${idx + 1}">
                    <button type="button" class="remove-btn" onclick="event.stopPropagation(); removeTempImage(${idx})">
                        <i class="fa-solid fa-times"></i>
                    </button>
                </div>
            `).join('');
        }

        function setMainImage(index) {
            const selected = tempProductImages.splice(index, 1)[0];
            tempProductImages.unshift(selected);
            updateMultiImagePreview();
            showToast('ØªÙ… ØªØ¹ÙŠÙŠÙ†Ù‡Ø§ ÙƒØµÙˆØ±Ø© Ø±Ø¦ÙŠØ³ÙŠØ©');
        }

        function removeTempImage(index) {
            tempProductImages.splice(index, 1);
            updateMultiImagePreview();
        }

        // ==================== Ø±ÙØ¹ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„ØµÙˆØ± (ØªØ¹Ø¯ÙŠÙ„ Ù…Ù†ØªØ¬) ====================
        function handleEditMultipleImages(input) {
            const files = Array.from(input.files);
            if (files.length === 0) return;

            if (editProductImages.length + files.length > 8) {
                showToast('Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 8 ØµÙˆØ± Ù„Ù„Ù…Ù†ØªØ¬');
                return;
            }

            let processedCount = 0;

            files.forEach(file => {
                if (!file.type.startsWith('image/')) {
                    showToast('Ù…Ù„Ù ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…: ' + file.name);
                    processedCount++;
                    return;
                }

                if (file.size > 5 * 1024 * 1024) {
                    showToast('Ø­Ø¬Ù… ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹ (max 5MB): ' + file.name);
                    processedCount++;
                    return;
                }

                const reader = new FileReader();
                reader.onload = function(e) {
                    editProductImages.push(e.target.result);
                    processedCount++;
                    if (processedCount === files.length) {
                        updateEditImagePreview();
                    }
                };
                reader.onerror = function() {
                    showToast('Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù: ' + file.name);
                    processedCount++;
                };
                reader.readAsDataURL(file);
            });
        }

        function updateEditImagePreview() {
            const container = document.getElementById('edit-multi-image-preview');

            if (editProductImages.length === 0) {
                container.innerHTML = '';
                return;
            }

            container.innerHTML = editProductImages.map((img, idx) => `
                <div class="preview-item ${idx === 0 ? 'main-image' : ''}" onclick="setEditMainImage(${idx})">
                    <img src="${img}" alt="ØµÙˆØ±Ø© ${idx + 1}">
                    <button type="button" class="remove-btn" onclick="event.stopPropagation(); removeEditTempImage(${idx})">
                        <i class="fa-solid fa-times"></i>
                    </button>
                </div>
            `).join('');
        }

        function setEditMainImage(index) {
            const selected = editProductImages.splice(index, 1)[0];
            editProductImages.unshift(selected);
            updateEditImagePreview();
            showToast('ØªÙ… ØªØ¹ÙŠÙŠÙ†Ù‡Ø§ ÙƒØµÙˆØ±Ø© Ø±Ø¦ÙŠØ³ÙŠØ©');
        }

        function removeEditTempImage(index) {
            editProductImages.splice(index, 1);
            updateEditImagePreview();
        }

        // ==================== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ù„Ø© ====================
        function saveCart() {
            localStorage.setItem('yaman_cart', JSON.stringify(cart));
            updateCartUI();
        }

        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) {
                console.error('âŒ Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø§Ù„Ø³Ù„Ø©:', productId);
                return;
            }

            const existingItem = cart.find(item => item.id === productId);
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({ 
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    image: product.images[0],
                    quantity: 1 
                });
            }
            saveCart();
            showToast('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ù„Ù„Ø³Ù„Ø© âœ“');
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            saveCart();
        }

        function updateQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    saveCart();
                }
            }
        }

        function clearCart() {
            cart = [];
            saveCart();
            toggleCart();
        }

        function getCartTotal() {
            return cart.reduce((total, item) => total + (item.price * item.quantity), 0);
        }

        function updateCartUI() {
            const cartCount = document.getElementById('cart-count');
            const cartItems = document.getElementById('cart-items');
            const cartTotal = document.getElementById('cart-total');
            const checkoutBtn = document.getElementById('checkout-btn');
            const clearCartBtn = document.getElementById('clear-cart-btn');

            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);

            if (totalItems > 0) {
                cartCount.textContent = totalItems;
                cartCount.classList.remove('hidden');
                checkoutBtn.disabled = false;
                checkoutBtn.classList.remove('bg-gray-300', 'text-gray-500', 'cursor-not-allowed');
                checkoutBtn.classList.add('btn-primary', 'text-white');
                clearCartBtn.classList.remove('hidden');
            } else {
                cartCount.classList.add('hidden');
                checkoutBtn.disabled = true;
                checkoutBtn.classList.add('bg-gray-300', 'text-gray-500', 'cursor-not-allowed');
                checkoutBtn.classList.remove('btn-primary', 'text-white');
                clearCartBtn.classList.add('hidden');
            }

            cartTotal.textContent = formatPrice(getCartTotal());

            if (cart.length === 0) {
                cartItems.innerHTML = `
                    <div class="text-center text-gray-500 py-12">
                        <i class="fa-solid fa-cart-shopping text-6xl mb-4 text-gray-300"></i>
                        <p>Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</p>
                    </div>
                `;
            } else {
                cartItems.innerHTML = cart.map(item => `
                    <div class="flex gap-4 bg-gray-50 p-4 rounded-lg">
                        <img src="${item.image}" alt="${item.name}" class="w-20 h-20 object-cover rounded-lg cursor-pointer" onclick="openLightbox('${item.image}')">
                        <div class="flex-1">
                            <h4 class="font-bold text-sm mb-1">${item.name}</h4>
                            <p class="text-rose-600 font-bold">${formatPrice(item.price)}</p>
                            <div class="flex items-center gap-2 mt-2">
                                <button onclick="updateQuantity('${item.id}', -1)" class="w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center">
                                    <i class="fa-solid fa-minus text-xs"></i>
                                </button>
                                <span class="font-bold">${item.quantity}</span>
                                <button onclick="updateQuantity('${item.id}', 1)" class="w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center">
                                    <i class="fa-solid fa-plus text-xs"></i>
                                </button>
                            </div>
                        </div>
                        <button onclick="removeFromCart('${item.id}')" class="text-red-500 hover:text-red-700 self-start">
                            <i class="fa-solid fa-trash"></i>
                        </button>
                    </div>
                `).join('');
            }
        }

        function toggleCart() {
            const drawer = document.getElementById('cart-drawer');
            const overlay = document.getElementById('cart-overlay');
            drawer.classList.toggle('open');
            overlay.classList.toggle('hidden');
            document.body.style.overflow = drawer.classList.contains('open') ? 'hidden' : '';
        }

        // ==================== Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ø¹ Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± ====================
        function createProductCard(product) {
            const isNew = isNewProduct(product.createdAt);
            const newBadge = isNew ? `
                <div class="absolute top-4 left-4 z-10">
                    <span class="new-badge text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1">
                        <i class="fa-solid fa-sparkles"></i> Ø¬Ø¯ÙŠØ¯
                    </span>
                </div>
            ` : '';

            const imageCount = product.images ? product.images.length : 0;
            const mainImage = product.images && product.images.length > 0 ? product.images[0] : 'https://via.placeholder.com/600x800?text=No+Image';

            const galleryIndicator = imageCount > 1 ? `
                <div class="absolute bottom-4 left-4 bg-black/60 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1">
                    <i class="fa-solid fa-images"></i> ${imageCount}
                </div>
            ` : '';

            return `
                <div class="product-card bg-white rounded-2xl shadow-lg overflow-hidden group relative">
                    ${newBadge}
                    <div class="hd-image-container h-64" onclick="openProductDetail('${product.id}')">
                        <img src="${mainImage}" alt="${product.name}" class="hd-image" loading="lazy">
                        <div class="zoom-icon">
                            <i class="fa-solid fa-expand"></i>
                        </div>
                        ${galleryIndicator}
                    </div>
                    <div class="p-5">
                        <div class="flex justify-between items-start mb-2">
                            <span class="text-xs text-rose-600 bg-rose-50 px-2 py-1 rounded-full">${product.category}</span>
                            ${isNew ? '<span class="text-xs text-green-600 bg-green-50 px-2 py-1 rounded-full">Ø¬Ø¯ÙŠØ¯</span>' : ''}
                        </div>
                        <h3 class="font-bold text-lg mb-2 text-gray-800 cursor-pointer hover:text-rose-600 transition" onclick="openProductDetail('${product.id}')">${product.name}</h3>
                        <p class="text-gray-500 text-sm mb-3 line-clamp-2">${product.description}</p>
                        <div class="flex justify-between items-center">
                            <span class="text-rose-600 font-bold text-xl">${formatPrice(product.price)}</span>
                            <button onclick="event.stopPropagation(); addToCart('${product.id}')" class="bg-rose-100 text-rose-600 px-4 py-2 rounded-full text-sm font-bold hover:bg-rose-600 hover:text-white transition">
                                Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderFeaturedProducts() {
            const container = document.getElementById('featured-products');
            if (!container) return;

            // Ø¹Ø±Ø¶ Ø¢Ø®Ø± 4 Ù…Ù†ØªØ¬Ø§Øª (Ø§Ù„Ø£Ø­Ø¯Ø«)
            const featured = products.slice(-4);
            container.innerHTML = featured.map(createProductCard).join('');
            console.log('âœ… ØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ù…ÙŠØ²Ø©:', featured.length, 'Ù…Ù†ØªØ¬');
        }

        function renderAllHomeProducts() {
            const container = document.getElementById('all-home-products');
            if (!container) return;

            // Ø¹Ø±Ø¶ Ø£ÙˆÙ„ 12 Ù…Ù†ØªØ¬ ÙÙŠ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            const homeProducts = products.slice(0, 12);
            container.innerHTML = homeProducts.map(createProductCard).join('');
            console.log('âœ… ØªÙ… Ø¹Ø±Ø¶ Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:', homeProducts.length, 'Ù…Ù†ØªØ¬');
        }

        function renderNewProducts() {
            const newProducts = products.filter(p => isNewProduct(p.createdAt));
            const section = document.getElementById('new-products-section');
            const container = document.getElementById('new-products');

            if (!section || !container) return;

            if (newProducts.length > 0) {
                section.classList.remove('hidden');
                container.innerHTML = newProducts.map(createProductCard).join('');
                console.log('âœ… ØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:', newProducts.length, 'Ù…Ù†ØªØ¬');
            } else {
                section.classList.add('hidden');
                console.log('â„¹ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©');
            }
        }

        function renderShopProducts(category = 'all') {
            const container = document.getElementById('shop-products');
            if (!container) return;

            const filtered = category === 'all' ? products : products.filter(p => p.category === category);

            if (filtered.length === 0) {
                container.innerHTML = `
                    <div class="col-span-full text-center py-12 text-gray-500">
                        <i class="fa-solid fa-box-open text-6xl mb-4 text-gray-300"></i>
                        <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù…</p>
                    </div>
                `;
            } else {
                container.innerHTML = filtered.map(createProductCard).join('');
            }
            console.log('âœ… ØªÙ… Ø¹Ø±Ø¶ Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±:', filtered.length, 'Ù…Ù†ØªØ¬');
        }

        // ==================== Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª ====================
        function hideAllPages() {
            ['home-page', 'shop-page', 'checkout-page', 'admin-login-page', 'admin-dashboard'].forEach(id => {
                const el = document.getElementById(id);
                if (el) el.classList.add('hidden');
            });
        }

        function showHome() {
            hideAllPages();
            const homePage = document.getElementById('home-page');
            if (homePage) {
                homePage.classList.remove('hidden');
                renderNewProducts();
                renderFeaturedProducts();
                renderAllHomeProducts();
            }
            window.scrollTo(0, 0);
        }

        function showShop(category = 'all') {
            hideAllPages();
            currentCategory = category;
            const shopPage = document.getElementById('shop-page');
            if (shopPage) {
                shopPage.classList.remove('hidden');
                renderShopProducts(category);
            }

            document.querySelectorAll('.category-btn').forEach(btn => {
                if (btn.dataset.category === category) {
                    btn.classList.remove('bg-white', 'text-gray-700', 'border-gray-300');
                    btn.classList.add('bg-rose-600', 'text-white');
                } else {
                    btn.classList.add('bg-white', 'text-gray-700', 'border-gray-300');
                    btn.classList.remove('bg-rose-600', 'text-white');
                }
            });

            window.scrollTo(0, 0);
        }

        function filterProducts(category) {
            showShop(category);
        }

        function showCategories() {
            const el = document.querySelector('#home-page .py-16.px-4.bg-white');
            if (el) el.scrollIntoView({ behavior: 'smooth' });
        }

        function showCheckout() {
            if (cart.length === 0) {
                showToast('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©!');
                return;
            }
            toggleCart();
            hideAllPages();
            const checkoutPage = document.getElementById('checkout-page');
            if (checkoutPage) checkoutPage.classList.remove('hidden');

            const container = document.getElementById('checkout-items');
            if (container) {
                container.innerHTML = cart.map(item => `
                    <div class="flex justify-between items-center py-2 border-b">
                        <div class="flex items-center gap-3">
                            <img src="${item.image}" class="w-16 h-16 object-cover rounded-lg cursor-pointer" onclick="openLightbox('${item.image}')">
                            <div>
                                <span class="font-bold block">${item.name}</span>
                                <span class="text-gray-500 text-sm"> Ã— ${item.quantity}</span>
                            </div>
                        </div>
                        <span class="font-bold">${formatPrice(item.price * item.quantity)}</span>
                    </div>
                `).join('');
            }

            const totalEl = document.getElementById('checkout-total');
            if (totalEl) totalEl.textContent = formatPrice(getCartTotal());
            window.scrollTo(0, 0);
        }

        // ==================== Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ ====================
        document.getElementById('checkout-form')?.addEventListener('submit', function(e) {
            e.preventDefault();

            const name = document.getElementById('customer-name').value;
            const phone = document.getElementById('customer-phone').value;
            const city = document.getElementById('customer-city').value;
            const notes = document.getElementById('customer-notes').value;

            let message = `*Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† ${STORE_NAME}* %0A%0A`;
            message += `*Ø§Ù„Ø¹Ù…ÙŠÙ„:* ${name}%0A`;
            message += `*Ø§Ù„Ø¬ÙˆØ§Ù„:* ${phone}%0A`;
            message += `*Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©:* ${city}%0A%0A`;
            message += `*Ø§Ù„Ø·Ù„Ø¨Ø§Øª:*%0A`;

            cart.forEach(item => {
                message += `- ${item.name} (${item.quantity} Ã— ${formatPrice(item.price)})%0A`;
            });

            message += `%0A*Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:* ${formatPrice(getCartTotal())}%0A`;

            if (notes) message += `%0A*Ù…Ù„Ø§Ø­Ø¸Ø§Øª:* ${notes}`;

            window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${message}`, '_blank');

            const orders = JSON.parse(localStorage.getItem('yaman_orders') || '[]');
            orders.push({
                id: generateId(),
                customer: { name, phone, city, notes },
                items: [...cart],
                total: getCartTotal(),
                date: new Date().toISOString(),
                status: 'pending'
            });
            localStorage.setItem('yaman_orders', JSON.stringify(orders));

            cart = [];
            saveCart();

            showToast('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ! Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹ âœ“');
            setTimeout(showHome, 2000);
        });

        // ==================== Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ====================
        function checkAdminAccess() {
            const params = new URLSearchParams(window.location.search);
            if (params.has('admin')) {
                window.history.replaceState({}, document.title, window.location.pathname);
                showAdminLogin();
            }
        }

        function showAdminLogin() {
            hideAllPages();
            const loginPage = document.getElementById('admin-login-page');
            if (loginPage) loginPage.classList.remove('hidden');
        }

        document.getElementById('admin-login-form')?.addEventListener('submit', function(e) {
            e.preventDefault();
            const password = document.getElementById('admin-password').value;

            if (password === ADMIN_PASSWORD) {
                sessionStorage.setItem('yaman_admin_auth', 'true');
                showAdminDashboard();
                showToast('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­ âœ“');
            } else {
                showToast('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©!');
            }
        });

        function showAdminDashboard() {
            if (sessionStorage.getItem('yaman_admin_auth') !== 'true') {
                showAdminLogin();
                return;
            }
            hideAllPages();
            const dashboard = document.getElementById('admin-dashboard');
            if (dashboard) dashboard.classList.remove('hidden');
            updateAdminStats();
            renderAdminProducts();
            loadSettings();
        }

        function adminLogout() {
            sessionStorage.removeItem('yaman_admin_auth');
            showHome();
            showToast('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬');
        }

        function updateAdminStats() {
            const countEl = document.getElementById('admin-products-count');
            const ordersEl = document.getElementById('admin-orders-count');
            const salesEl = document.getElementById('admin-sales-total');

            if (countEl) countEl.textContent = products.length;

            const orders = JSON.parse(localStorage.getItem('yaman_orders') || '[]');
            if (ordersEl) ordersEl.textContent = orders.filter(o => o.status === 'pending').length;

            const totalSales = orders.filter(o => o.status === 'completed').reduce((sum, o) => sum + o.total, 0);
            if (salesEl) salesEl.textContent = formatPrice(totalSales);
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('ar-YE');
        }

        function renderAdminProducts() {
            const tbody = document.getElementById('admin-products-table');
            if (!tbody) return;

            tbody.innerHTML = products.map(p => {
                const mainImage = p.images && p.images.length > 0 ? p.images[0] : '';
                const isNew = isNewProduct(p.createdAt);

                return `
                    <tr class="border-b hover:bg-gray-50">
                        <td class="px-4 py-3">
                            <div class="flex items-center gap-3">
                                <img src="${mainImage}" class="w-12 h-12 object-cover rounded-lg cursor-pointer" onclick="openLightbox('${mainImage}')">
                                <span class="font-bold">${p.name}</span>
                                ${isNew ? '<span class="bg-green-500 text-white text-xs px-2 py-1 rounded-full mr-2">Ø¬Ø¯ÙŠØ¯</span>' : ''}
                            </div>
                        </td>
                        <td class="px-4 py-3">${p.category}</td>
                        <td class="px-4 py-3 font-bold text-rose-600">${formatPrice(p.price)}</td>
                        <td class="px-4 py-3">
                            <span class="bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-sm">${p.images ? p.images.length : 0} ØµÙˆØ±Ø©</span>
                        </td>
                        <td class="px-4 py-3 text-sm text-gray-500">${formatDate(p.createdAt)}</td>
                        <td class="px-4 py-3">
                            <button onclick="openEditProductModal('${p.id}')" class="text-blue-500 hover:text-blue-700 ml-2" title="ØªØ¹Ø¯ÙŠÙ„">
                                <i class="fa-solid fa-edit"></i>
                            </button>
                            <button onclick="deleteProduct('${p.id}')" class="text-red-500 hover:text-red-700" title="Ø­Ø°Ù">
                                <i class="fa-solid fa-trash"></i>
                            </button>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // ==================== ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ ====================
        function openEditProductModal(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) {
                showToast('Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯!');
                return;
            }

            currentEditProductId = productId;
            editProductImages = product.images ? [...product.images] : [];

            document.getElementById('edit-product-id').value = productId;
            document.getElementById('edit-product-name').value = product.name;
            document.getElementById('edit-product-price').value = product.price;
            document.getElementById('edit-product-category').value = product.category;
            document.getElementById('edit-product-desc').value = product.description || '';

            updateEditImagePreview();

            const modal = document.getElementById('edit-product-modal');
            if (modal) modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeEditProductModal(event) {
            if (event && event.target !== event.currentTarget) return;
            
            const modal = document.getElementById('edit-product-modal');
            if (modal) modal.classList.remove('active');
            document.body.style.overflow = '';
            
            currentEditProductId = null;
            editProductImages = [];
        }

        document.getElementById('edit-product-form')?.addEventListener('submit', function(e) {
            e.preventDefault();

            if (!currentEditProductId) {
                showToast('Ø®Ø·Ø£: Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ù†ØªØ¬!');
                return;
            }

            const name = document.getElementById('edit-product-name').value;
            const priceInput = document.getElementById('edit-product-price').value;
            const price = parseInt(priceInput);
            const category = document.getElementById('edit-product-category').value;
            const description = document.getElementById('edit-product-desc').value;

            if (!priceInput || isNaN(price) || price < 0) {
                showToast('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø³Ø¹Ø± ØµØ­ÙŠØ­!');
                return;
            }

            if (editProductImages.length === 0) {
                showToast('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„!');
                return;
            }

            // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ù†ØªØ¬ ÙˆØªØ­Ø¯ÙŠØ«Ù‡
            const productIndex = products.findIndex(p => p.id === currentEditProductId);
            if (productIndex === -1) {
                showToast('Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯!');
                return;
            }

            // ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬
            products[productIndex] = {
                ...products[productIndex],
                name,
                price,
                category,
                description,
                images: [...editProductImages]
            };

            // Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
            saveProductsToStorage();

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
            closeEditProductModal();
            renderAdminProducts();
            updateAdminStats();

            // ØªØ­Ø¯ÙŠØ« ØµÙØ­Ø§Øª Ø§Ù„Ø²Ø¨Ø§Ø¦Ù† Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø¸Ø§Ù‡Ø±Ø©
            if (!document.getElementById('home-page')?.classList.contains('hidden')) {
                renderNewProducts();
                renderFeaturedProducts();
                renderAllHomeProducts();
            }
            if (!document.getElementById('shop-page')?.classList.contains('hidden')) {
                renderShopProducts(currentCategory);
            }

            showToast(`ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬ "${name}" Ø¨Ù†Ø¬Ø§Ø­ âœ“`);
            console.log('âœ… ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬:', products[productIndex]);
        });

        // ==================== Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯ ====================
        function showAddProductForm() {
            const modal = document.getElementById('add-product-modal');
            if (modal) modal.classList.remove('hidden');

            const form = document.getElementById('add-product-form');
            if (form) form.reset();

            tempProductImages = [];
            updateMultiImagePreview();
        }

        function closeAddProductModal() {
            const modal = document.getElementById('add-product-modal');
            if (modal) modal.classList.add('hidden');

            const form = document.getElementById('add-product-form');
            if (form) form.reset();

            tempProductImages = [];
            updateMultiImagePreview();
        }

        document.getElementById('add-product-form')?.addEventListener('submit', function(e) {
            e.preventDefault();

            const name = document.getElementById('new-product-name').value;
            const priceInput = document.getElementById('new-product-price').value;
            const price = parseInt(priceInput);
            const category = document.getElementById('new-product-category').value;
            const description = document.getElementById('new-product-desc').value;

            if (!priceInput || isNaN(price) || price < 0) {
                showToast('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø³Ø¹Ø± ØµØ­ÙŠØ­!');
                return;
            }

            if (tempProductImages.length === 0) {
                showToast('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„!');
                return;
            }

            const newProduct = {
                id: generateId(),
                name,
                price,
                category,
                description,
                images: [...tempProductImages],
                createdAt: new Date().toISOString()
            };

            // âœ… Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…ØµÙÙˆÙØ© ÙˆØ­ÙØ¸ ÙÙˆØ±ÙŠ
            products.push(newProduct);
            saveProductsToStorage();

            // âœ… ØªØ­Ø¯ÙŠØ« ÙÙˆØ±ÙŠ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ø±ÙˆØ¶
            closeAddProductModal();
            renderAdminProducts();
            updateAdminStats();

            // ØªØ­Ø¯ÙŠØ« ØµÙØ­Ø§Øª Ø§Ù„Ø²Ø¨Ø§Ø¦Ù† Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø¸Ø§Ù‡Ø±Ø©
            if (!document.getElementById('home-page')?.classList.contains('hidden')) {
                renderNewProducts();
                renderFeaturedProducts();
                renderAllHomeProducts();
            }
            if (!document.getElementById('shop-page')?.classList.contains('hidden')) {
                renderShopProducts(currentCategory);
            }

            showToast(`ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ "${name}" Ù…Ø¹ ${newProduct.images.length} ØµÙˆØ±Ø© âœ“`);

            console.log('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯:', newProduct);
            console.log('ğŸ“Š Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¢Ù†:', products.length);
        });

        function deleteProduct(id) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ØŸ')) {
                products = products.filter(p => p.id !== id);
                saveProductsToStorage();
                renderAdminProducts();
                updateAdminStats();
                renderNewProducts();
                renderFeaturedProducts();
                renderAllHomeProducts();
                renderShopProducts(currentCategory);
                showToast('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬');
            }
        }

        function loadSettings() {
            const savedWhatsapp = localStorage.getItem('yaman_whatsapp');
            const savedPassword = localStorage.getItem('yaman_password');

            const whatsappInput = document.getElementById('settings-whatsapp');
            if (whatsappInput) {
                if (savedWhatsapp) {
                    WHATSAPP_NUMBER = savedWhatsapp;
                    whatsappInput.value = savedWhatsapp;
                } else {
                    whatsappInput.value = WHATSAPP_NUMBER;
                }
            }

            if (savedPassword) {
                ADMIN_PASSWORD = savedPassword;
            }
        }

        function saveSettings() {
            const newWhatsapp = document.getElementById('settings-whatsapp')?.value.trim();
            const newPassword = document.getElementById('settings-password')?.value;

            if (newWhatsapp) {
                WHATSAPP_NUMBER = newWhatsapp.replace(/[^0-9]/g, '');
                localStorage.setItem('yaman_whatsapp', WHATSAPP_NUMBER);
                const waLink = document.querySelector('.whatsapp-float');
                if (waLink) waLink.href = `https://wa.me/${WHATSAPP_NUMBER}`;
            }

            if (newPassword) {
                ADMIN_PASSWORD = newPassword;
                localStorage.setItem('yaman_password', newPassword);
            }

            showToast('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ù†Ø¬Ø§Ø­ âœ“');
            const pwdInput = document.getElementById('settings-password');
            if (pwdInput) pwdInput.value = '';
        }

        // ==================== Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ====================
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸš€ Ø¨Ø¯Ø¡ ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ØªØ¬Ø±...');

            // âœ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø£ÙˆÙ„Ø§Ù‹
            loadProductsFromStorage();

            // âœ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
            const savedWhatsapp = localStorage.getItem('yaman_whatsapp');
            if (savedWhatsapp) WHATSAPP_NUMBER = savedWhatsapp;

            const savedPassword = localStorage.getItem('yaman_password');
            if (savedPassword) ADMIN_PASSWORD = savedPassword;

            const waLink = document.querySelector('.whatsapp-float');
            if (waLink) waLink.href = `https://wa.me/${WHATSAPP_NUMBER}`;

            // âœ… ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¹Ø±Ø¶
            renderFeaturedProducts();
            renderAllHomeProducts();
            renderNewProducts();
            updateCartUI();
            checkAdminAccess();

            console.log('âœ… ØªÙ… ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ØªØ¬Ø± Ø¨Ù†Ø¬Ø§Ø­!');
            console.log('ğŸ“¦ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:', products.length);
            console.log('ğŸ›’ Ø¹Ø¯Ø¯ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø³Ù„Ø©:', cart.length);
        });

        window.addEventListener('popstate', function() {
            if (sessionStorage.getItem('yaman_admin_auth') === 'true' && !window.location.search.includes('admin')) {
                sessionStorage.removeItem('yaman_admin_auth');
            }
        });
    </script>

</body>
</html>
